# 📄 Class Creation Flow PRD (학급 생성 및 설문 흐름 구조 개선)

## ✅ 목적
- 학급 생성 과정을 단계별로 나누고, 생성된 학급 안에서 설문을 자유롭게 생성할 수 있도록 구조를 개선함
- 학급 단위로 학생 목록을 공유하고, 생성된 모든 설문지에서 해당 목록을 연동함
- 설문 하나가 곧 관계도이며, 설문 카드를 클릭하면 기존의 관계도 페이지로 이동함

---

## ✅ 전체 사용자 흐름

1. 학급 관리 페이지(`/class`)에서 [학급 추가] 버튼 클릭
2. 학교 선택 페이지 → 학교명 입력 (`/class/create/school`)
3. 학년/반 선택 페이지 → 학년, 반 입력 (`/class/create/grade`)
4. 학생 목록 작성 페이지 → 학생 목록 입력 (`/class/create/students`)
   - 디자인: 학급 관계도 페이지의 좌측 학생 목록과 동일
   - 기능: 추가, 수정, 삭제만 가능
   - 클릭 이벤트 제거
5. 완료 시 설문 만들기 페이지(`/class/[classId]/survey`)로 이동
   - 이 페이지는 기존 학급 관리 페이지 레이아웃 재사용, 제목은 '설문 만들기'
   - 좌측에 학생 목록 고정 표시 (연동됨)
6. 설문 카드를 생성하고 클릭하면 관계도 페이지(`/class/[classId]/survey/[surveyId]`)로 이동

---

## ✅ 설문 구조 및 역할

- 학급은 한 번만 생성되며, 학생 목록도 한 번만 작성
- 설문은 학급 단위로 여러 개 생성 가능
- 설문 카드 = 각 설문지를 대표하는 UI 카드 (기존 학급 카드의 역할 대체)
- 설문을 클릭하면 해당 설문에 대응되는 관계도 페이지로 이동
- 관계도 페이지에서는 기존의 노드, 관계 설정, 주관식 기능이 그대로 동작

---

## ✅ 학생 목록 연동 규칙

- 학생 목록은 학급 단위로 관리됨
- 설문 만들기 페이지와 관계도 페이지의 좌측 목록은 항상 동기화됨
- 어느 쪽에서 수정해도 실시간 반영됨
- 목록 항목 클릭 시 관계 설정 페이지 이동 기능은 설문 만들기 페이지에서는 제거됨
- 관계 설정 페이지 진입은 오직 관계도 페이지 내 학생 카드 클릭 시에만 가능

---

## ✅ 기존 기능 유지 사항

- `/class/[classId]/survey/[surveyId]/page.tsx`: 기존 학생 관계도 페이지 기능 **변경 없음**
- `/class/[classId]/survey/[surveyId]/student/[studentId]/page.tsx`: 기존 관계 설정 페이지 **그대로 유지**
- 학생 목록만 상위 설문 만들기 페이지에서 동기화됨

---

> 이 PRD는 `scaffold-class-flow.md`의 파일 구조를 기반으로 기능 흐름을 정의한 문서입니다. Cursor에 명령 시 함께 전달하면 됩니다.
